<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="stylesheet" type="text/css" href="./css/materialize.css" media="screen,projection"/>
    <link rel="stylesheet" type="text/css" href="./css/material-icons.css"/>

    <script src="./lib/touch-emulator.js"></script>
    <script src="./lib/matter.js"></script>
    <script src="./lib/d3.v4.js"></script>
    <script src="./lib/jquery-3.1.1.js"></script>
    <script src="./lib/hammer-2.0.8.js"></script>
    <script src="./lib/lodash.js"></script>

    <script src="./js/private/SimplePromise.js"></script>
    <script src="./js/private/matterD3Renderer.js"></script>

    <script src="./js/world.js"></script>

    <meta charset="UTF-8">
    <title>Hacker Run</title>

    <style>
        text {
            font-size: 5em;
            color: black;
        }
    </style>

</head>
<body>

<svg id="field"></svg>

<script>

/* global _ */
/* global World */

    var world = new World();
    
    setInterval(function() {
        if(_.random(0,1) == 1) {
            world.circleBody(_.random(0, world.getWidth()), 0, 5, false, "red");
        }
        else {
            world.rectangleBody(_.random(0, world.getWidth()), 0, 10, 10, false, "orange");
        }
    }, 1000);

    function createPropeller(x, y, width) {
        var rectangle = world.rectangleBody(x, y, width, 15, true, "green");
        setInterval(function() {
            world.rotateBodyByDegree(rectangle, 1);
        }, _.random(50, 100));
    }
    
    for(var x = 0; x < world.getWidth(); x+=200) {
        for(var y = 0; y < world.getHeight(); y+= 200) {
            createPropeller(x, y, 500);
        }
    }

</script>

</body>
</html>