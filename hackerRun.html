<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="stylesheet" type="text/css" href="./css/materialize.css" media="screen,projection"/>

    <script src="./lib/touch-emulator.js"></script>
    <script src="./lib/matter.js"></script>
    <script src="./lib/d3.v4.js"></script>
    <script src="./lib/jquery-3.1.1.js"></script>
    <script src="./lib/hammer-2.0.8.js"></script>

    <script src="./js/SimplePromise.js"></script>
    <script src="./js/matterD3Renderer.js"></script>

    <script src="./js/effects.js"></script>
    <script src="./js/init.js"></script>
    <script src="./js/create.js"></script>
    <script src="./js/events.js"></script>

    <meta charset="UTF-8">
    <title>Hacker Run</title>

    <style>
        text {
            font-size: small;
        }

        text.hit {
            font-size: 5em;
        }
    </style>

</head>
<body>

<svg id="field"></svg>

<script>
    initWorld();

    onTouch(function(x, y) {
        circle(x, y, 10);
    });

    onTouchMove(function (x, y) {
        rectangle(x, y, 5, 5, true);
    });

    var randomPositionX = Math.random() * (WORLD.width/3) + (WORLD.width/3);
    var rectid = rectangle(randomPositionX, WORLD.height-20, 30, 10, true, "green");
    rectangle(randomPositionX - 20, WORLD.height - 100, 90, 5, true, "grey");
    rectid
    console.log(rectid);

    onCollisionStart(rectid, function(pair) {
        console.dir(pair);
        backgroundColorFlash("red");
        showSplash("YEEEEAAAAAA", "hit");
    });

</script>

</body>
</html>